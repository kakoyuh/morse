<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="google-adsense-account" content="ca-pub-XXXXXXX">
<title>Morse Beat</title>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXX" crossorigin="anonymous"></script>

<style>
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap");
*{box-sizing:border-box;font-family:"Poppins",sans-serif;margin:0;padding:0;}
body{
  background:radial-gradient(circle at top,#1a1a1a,#0e0e0e);
  color:#fff;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding-top:80px;
  overflow-x:hidden;
}
.ad-top,.ad-bottom{width:100%;text-align:center;margin:10px 0;}
.ad-left,.ad-right{
  position:fixed; top:50%; transform:translateY(-50%);
  width:120px; height:300px; text-align:center;
  background:rgba(255,255,255,0.08);
  border-radius:15px; display:flex;
  align-items:center; justify-content:center; z-index:1;
}
.ad-left{left:10px;} .ad-right{right:10px;}
.ad-popup{
  position:fixed; bottom:-400px; left:50%; transform:translateX(-50%);
  width:90%; max-width:400px;
  background:rgba(255,255,255,0.1);
  border-radius:20px; text-align:center; padding:15px;
  transition:all .6s ease; z-index:999; backdrop-filter:blur(10px);
}
.ad-popup.show{bottom:20px;}
.ad-popup button{
  background:#00ffaa;border:none;border-radius:10px;
  padding:6px 12px;font-weight:600;margin-top:8px;
}
.container{
  max-width:1000px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:25px;
  z-index:2;
  position:relative;
}
.card{
  background:rgba(255,255,255,0.08);
  border-radius:20px;
  backdrop-filter:blur(15px);
  box-shadow:0 4px 30px rgba(0,0,0,0.35);
  padding:25px;
  width:320px;
  text-align:center;
  transition:all 0.3s ease;
}
.card:hover{transform:translateY(-5px);}
h1,h2{
  font-weight:600;
  background:linear-gradient(90deg,#00ccff,#00ffaa);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin-bottom:15px;
}
input,textarea{
  width:100%; padding:12px;
  border-radius:10px; border:none; outline:none;
  font-size:15px; margin-bottom:15px;
  background:rgba(255,255,255,0.08); color:#fff;
  text-align:center; resize:none;
}
.output{
  background:rgba(0,0,0,0.4);
  border-radius:10px;
  padding:15px;
  min-height:50px;
  color:#aef;
  font-size:16px;
  margin-bottom:15px;
  word-break:break-word;
}
button{
  background:linear-gradient(135deg,#00aaff,#00ffaa);
  border:none; border-radius:10px;
  padding:10px 16px; color:#000; font-weight:600;
  margin:5px; cursor:pointer; transition:all .2s ease;
}
button:hover{transform:scale(1.05);}
.copy-btn { background: linear-gradient(135deg,#34C759,#4cd964);}
.copy-btn:hover{background: linear-gradient(135deg,#28a745,#34c759);}
.share-btn { background: linear-gradient(135deg,#ff9500,#ffaa33);}
.share-btn:hover { background: linear-gradient(135deg,#cc7a00,#ff9500); }
.flash { animation: flash 0.2s ease; }
@keyframes flash {0%{background-color:#00ffaa33;}100%{background-color:transparent;}}
.toast{
  position:fixed; bottom:60px; left:50%;
  transform:translateX(-50%) translateY(30px);
  background:rgba(255,255,255,0.15);
  border:1px solid rgba(255,255,255,0.1);
  backdrop-filter:blur(15px);
  color:#fff; padding:12px 25px;
  border-radius:25px; opacity:0; transition:all .4s ease; font-size:15px;
}
.toast.show{opacity:1; transform:translateX(-50%) translateY(0);}
.upload-card img{width:100%; margin-top:10px; border-radius:12px; display:none;}
@media(max-width:767px){.ad-left,.ad-right{display:none;}.card{width:90%;}.upload-card{order:-1;}}
@media(min-width:768px){.upload-card{order:3;}}
</style>
</head>
<body>

<!-- ä¸Šä¸‹å·¦å³å»£å‘Š -->
<div class="ad-top"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-XXXXXXX" data-ad-slot="1111111111" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
<div class="ad-left">å·¦å´å»£å‘Šä½</div>
<div class="ad-right">å³å´å»£å‘Šä½</div>

<div class="container">

  <div class="card">
    <h1>ğŸµ Morse Beat</h1>
    <input type="text" id="textInput" placeholder="è¼¸å…¥æ–‡å­—..." />
    <div class="output" id="morseOutput">ç­‰å¾…è¼¸å…¥...</div>
    <div>
      <button id="convertBtn">è½‰æ›</button>
      <button id="playBtn">æ’­æ”¾ç¯€å¥</button>
      <button id="stopBtn">åœæ­¢</button>
      <button class="copy-btn" onclick="copyText('morseOutput')">è¤‡è£½æ‘©æ–¯ç¢¼</button>
      <button class="share-btn" onclick="shareText('morseOutput')">åˆ†äº«æ‘©æ–¯ç¢¼</button>
    </div>
  </div>

  <div class="card">
    <h2>ğŸ” è§£ç¢¼å€</h2>
    <textarea id="decodeInput" rows="4" placeholder="è¼¸å…¥æ‘©æ–¯ç¢¼ï¼ˆä¾‹å¦‚ï¼š.... . .-.. .-.. ---ï¼‰"></textarea>
    <div class="output" id="decodeOutput">ç­‰å¾…è§£ç¢¼...</div>
    <div>
      <button id="decodeBtn">è§£ç¢¼</button>
      <button class="copy-btn" onclick="copyText('decodeOutput')">è¤‡è£½è§£ç¢¼æ–‡å­—</button>
      <button class="share-btn" onclick="shareText('decodeOutput')">åˆ†äº«æ–‡å­—</button>
    </div>
  </div>

  <div class="card upload-card">
    <h2>ğŸ–¼ ä¸Šå‚³èƒŒæ™¯</h2>
    <input type="file" id="bgInput" accept="image/*" />
    <img id="preview">
  </div>

</div>

<section style="max-width:900px;text-align:center;margin:50px 20px;">
  <h2>ğŸ’¡ é—œæ–¼ Morse Beat</h2>
  <p>é€™æ˜¯ä¸€å€‹çµåˆæ‘©æ–¯ç¢¼èˆ‡éŸ³æ¨‚ç¯€å¥çš„å‰µæ„å·¥å…·ã€‚è¼¸å…¥æ–‡å­—å³å¯è½‰æ›æˆæ‘©æ–¯ç¯€æ‹ï¼Œé‚„èƒ½å³æ™‚æ’­æ”¾è²éŸ³ã€ä¸Šå‚³å€‹äººèƒŒæ™¯ï¼Œæ‰“é€ å°ˆå±¬é¢¨æ ¼çš„æ‘©æ–¯ç¯€å¥é é¢ã€‚</p>
  <br>
  <h2>âœ¨ ç‰¹è‰²åŠŸèƒ½</h2>
  <ul style="list-style:none;line-height:1.8;">
    <li>ğŸ”¸ æ–‡å­—è½‰æ‘©æ–¯ç¢¼ä¸¦å¯æ’­æ”¾è²éŸ³ç¯€å¥</li>
    <li>ğŸ”¸ æ‘©æ–¯ç¢¼è§£ç¢¼æˆåŸæ–‡</li>
    <li>ğŸ”¸ æ”¯æ´ä¸Šå‚³èƒŒæ™¯åœ–å€‹äººåŒ–é é¢</li>
    <li>ğŸ”¸ åˆ†äº«å¯†ç¢¼æ¨¡å¼ï¼ˆè§£ç¢¼æ‰å¯é¡¯ç¤ºè¨Šæ¯ï¼‰</li>
  </ul>
</section>

<div class="ad-bottom"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-XXXXXXX" data-ad-slot="2222222222" data-ad-format="auto" data-full-width-responsive="true"></ins></div>

<div class="ad-popup" id="popupAd">
  <p>ğŸ“¢ æ‰‹æ©Ÿå°ˆå±¬å»£å‘Šä½</p>
  <button onclick="document.getElementById('popupAd').classList.remove('show')">é—œé–‰</button>
</div>

<footer>Â© 2025 Morse Beat | æœ¬ç¶²ç«™ä½¿ç”¨ Google AdSense æä¾›å»£å‘Šæœå‹™</footer>
<div id="toast" class="toast"></div>

<script>
// ===== Morse é‚è¼¯ =====
const MORSE={A:".-",B:"-...",C:"-.-.",D:"-..",E:".",F:"..-.",G:"--.",H:"....",
I:"..",J:".---",K:"-.-",L:".-..",M:"--",N:"-.",O:"---",
P:".--.",Q:"--.-",R:".-.",S:"...",T:"-",U:"..-",V:"...-",W:".--",
X:"-..-",Y:"-.--",Z:"--..",
"1":".----","2":"..---","3":"...--","4":"....-","5":".....",
"6":"-....","7":"--...",8:"---..","9":"----.","0":"-----"," ":"/"};
const REVERSE=Object.fromEntries(Object.entries(MORSE).map(([k,v])=>[v,k]));
function textToMorse(t){return t.toUpperCase().split("").map(c=>MORSE[c]||"").join(" ");}
function morseToText(m){return m.split(" / ").map(w=>w.split(" ").map(s=>REVERSE[s]||"").join("")).join(" ");}

document.getElementById("convertBtn").onclick = ()=>document.getElementById("morseOutput").textContent = textToMorse(document.getElementById("textInput").value.trim()) || "ï¼ˆç„¡æ•ˆè¼¸å…¥ï¼‰";
document.getElementById("decodeBtn").onclick = ()=>document.getElementById("decodeOutput").textContent = morseToText(document.getElementById("decodeInput").value.trim()) || "ï¼ˆç„¡æ•ˆæ‘©æ–¯ç¢¼ï¼‰";

// ===== æ’­æ”¾ =====
let audioCtx, playing=false;
function playMorse(m){
  if(!m||playing)return;
  playing=true; audioCtx=new(window.AudioContext||window.webkitAudioContext)();
  const unit=0.15; let time=audioCtx.currentTime;
  m.split("").forEach(s=>{
    if(s==="."){beep(time,unit);flash();time+=unit*2;}
    else if(s==="-"){beep(time,unit*3);flash();time+=unit*4;}
    else if(s===" ")time+=unit*2;
    else if(s==="/")time+=unit*6;
  });
  setTimeout(()=>playing=false,(time-audioCtx.currentTime)*1000);
}
function beep(start,d){
  const o=audioCtx.createOscillator(),g=audioCtx.createGain();
  o.type="sine"; o.frequency.setValueAtTime(600,audioCtx.currentTime);
  o.connect(g); g.connect(audioCtx.destination);
  o.start(start); o.stop(start+d);
}
function flash(){const o=document.getElementById("morseOutput"); o.classList.add("flash"); setTimeout(()=>o.classList.remove("flash"),100);}
document.getElementById("playBtn").onclick=()=>{const m=document.getElementById("morseOutput").textContent.trim(); if(m&&m!=="ç­‰å¾…è¼¸å…¥...") playMorse(m);}
document.getElementById("stopBtn").onclick=()=>{if(audioCtx)audioCtx.close(); playing=false;};

// ===== è¤‡è£½èˆ‡åˆ†äº« =====
function showToast(msg){const t=document.getElementById("toast"); t.textContent=msg; t.classList.add("show"); setTimeout(()=>t.classList.remove("show"),1500);}
function copyText(id){const t=document.getElementById(id).textContent.trim(); if(!t||t.startsWith("ç­‰å¾…"))return; navigator.clipboard.writeText(t); showToast("âœ… å·²è¤‡è£½ï¼");}

// åˆ†äº« + çŸ­ç¶²å€
async function shareText(id){
  const t=document.getElementById(id).textContent.trim();
  if(!t||t.startsWith("ç­‰å¾…"))return;
  const longUrl=location.origin+location.pathname+"?share="+encodeURIComponent(t);
  let shortUrl=longUrl;
  try{
    const res=await fetch("https://api.tinyurl.com/create",{method:"POST",headers:{"Content-Type":"application/json","Authorization":"Bearer ä½ çš„APIKEY"},body:JSON.stringify({url:longUrl})});
    const data=await res.json(); if(data.data&&data.data.tiny_url) shortUrl=data.data.tiny_url;
  }catch(e){console.warn("çŸ­ç¶²å€ç”Ÿæˆå¤±æ•—");}
  if(navigator.share){navigator.share({title:"Morse Beat",text:t,url:shortUrl}); showToast("ğŸ”— åˆ†äº«é¸å–®å·²é–‹å•Ÿ"); return;}
  const shareLinks={LINE:`https://line.me/R/msg/text/?${encodeURIComponent(t+"\n"+shortUrl)}`,Telegram:`https://t.me/share/url?url=${encodeURIComponent(shortUrl)}&text=${encodeURIComponent(t)}`,Facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shortUrl)}`};
  const choice=prompt("é¸æ“‡åˆ†äº«å¹³å°ï¼šLINE / Telegram / Facebook\næˆ–å–æ¶ˆè¤‡è£½çŸ­ç¶²å€","LINE");
  if(choice){const key=choice.trim().toUpperCase(); if(shareLinks[key]){window.open(shareLinks[key],"_blank"); showToast(`ğŸ”— å·²é–‹å•Ÿ ${key} åˆ†äº«`); return; }}
  navigator.clipboard.writeText(shortUrl); showToast("ğŸ”— çŸ­ç¶²å€å·²è¤‡è£½ï¼");
}

// ===== èƒŒæ™¯ä¸Šå‚³é è¦½ =====
document.getElementById("bgInput").addEventListener("change",e=>{
  const f=e.target.files[0]; if(!f)return;
  const r=new FileReader();
  r.onload=ev=>{const i=document.getElementById("preview"); i.src=ev.target.result; i.style.display="block";}
  r.readAsDataURL(f);
});

// ===== æ‰‹æ©Ÿå½ˆçª—å»£å‘Š =====
setTimeout(()=>document.getElementById('popupAd').classList.add('show'),4000);

// ===== URL åƒæ•¸è§£ç¢¼ =====
const params=new URLSearchParams(window.location.search);
if(params.has("share")){
  const s=params.get("share");
  document.getElementById("decodeInput").value=s;
  document.getElementById("decodeOutput").textContent=morseToText(s)||"ï¼ˆç„¡æ•ˆæ‘©æ–¯ç¢¼ï¼‰";
}
</script>
</body>
</html>
